<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulation of a Brownian Process</title>
    <link rel="stylesheet" href="homework11.css">
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['\\[', '\\]']],
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>

<header>
    <h1>Simulation of a Brownian Process</h1>
</header>

<main>
    <div class="controls">
        <h2>Insert the parameters!</h2>
        <label for="time">Time (\( T \)):</label>
        <input type="number" id="time" min="1">
        <label for="steps">Steps (\( n \)):</label>
        <input type="number" id="steps" min="1">
        <label for="sigma">Volatility (\( \sigma \)):</label>
        <input type="number" id="sigma">
        <button id="runButton" onclick="runSimulation()">Run Simulation</button>
    </div>

    <div class="explanation">
        <h3>The Mathematical Engine: Box-Muller & Scaling</h3>
        <p>
            To simulate Brownian Motion, we need to generate random "jumps" at each time step \( dt \).
            However, computers natively generate pseudo-random numbers from a <strong>Uniform Distribution</strong> \( U \sim (0,1) \).
        </p>
        <p>
            To transform these "flat" numbers into a Bell Curve (Normal Distribution), we use the <strong>Box-Muller Transform</strong>:
            \[ Z = \sqrt{-2 \ln(U_1)} \cos(2\pi U_2) \]
            This formula takes two uniform variables \( U_1, U_2 \) and returns \( Z \sim N(0,1) \).
        </p>
        <p>
            <strong>The Scaling Rule (\( \sqrt{dt} \)):</strong><br>
            For the variance of the process to grow linearly with time (and not explode or vanish), the standard deviation of a single jump must be proportional to the square root of the time step. The update formula is:
            \[ Y_{t+dt} = Y_t + \sigma \cdot Z \cdot \sqrt{dt} \]
        </p>

    </div>
    <div id="result-section" style="display: none">
        <div class="chart-container">
            <h2>Brownian Motion Simulation</h2>
            <p>This chart shows the random path of a single particle over time \( T \).</p>
            <canvas id="brownianMotionSim" width="800" height="400"></canvas>
        </div>
        <div class="explanation">
            <h3>From Random Walk to Wiener Process</h3>
            <p>
                The chart above displays 50 realizations of the process. Unlike a classic discrete "Random Walk" on a grid (where steps are fixed \( \pm 1 \)), here we observe:
            </p>
            <ul>
                <li><strong>Continuous States (Y-axis):</strong> The particle can take any real value.</li>
                <li><strong>Continuous Time (X-axis):</strong> Although the simulation uses discrete steps \( dt \), we are mathematically approximating a process where \( dt \to 0 \).</li>
            </ul>
            <p>
                This limit defines the <strong>Standard Wiener Process</strong> \( W_t \), a mathematical fractal that is continuous everywhere but differentiable nowhere (the path is infinitely "jagged").
            </p>

        </div>

        <div class="chart-container">
            <h2>Distribution of Final Positions</h2>
            <p>Histogram of final positions after many simulations. Notice the Bell Curve shape (Central Limit Theorem).</p>
            <canvas id="histogramCanvas" width="800" height="300"></canvas>
        </div>
        <div class="explanation">
            <h3>Convergence & Central Limit Theorem (CLT)</h3>
            <p>
                The histogram above collects the final positions \( Y_T \) of thousands of simulated particles.
                Since the final position is the sum of many independent small jumps (\( Y_T = \sum dY_t \)), according to the <strong>Central Limit Theorem</strong>, the final distribution must converge to a Normal Distribution.
            </p>
            <p>
                The <span>Red Curve</span> represents the theoretical <strong>Probability Density Function (PDF)</strong> at time \( T \):
                \[ f(x, T) = \frac{1}{\sqrt{2\pi \sigma^2 T}} e^{-\frac{x^2}{2\sigma^2 T}} \]
            </p>
            <p>
                The perfect overlap between the blue bars (empirical data) and the red curve (theoretical model) validates the correctness of our simulation.
            </p>
        </div>
    </div>

</main>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="homework11.js"></script>

</body>
</html>