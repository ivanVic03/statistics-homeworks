<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RSA Encryption Homework</title>
    <link rel="stylesheet" href="homework3.css">
    <link href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/prismjs/prism.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-sql.min.js"></script>
</head>
<body>

<h2>RSA Encryption/Decryption</h2>

<div>
    <label for="p">p:</label>
    <input type="number" id="p" min="1" max="100000">

    <label for="q">q:</label>
    <input type="number" id="q" min="1" max="100000">
</div>

<div id="original-div" class="text-areas">
    <label>Original Text:</label>
    <textarea id="originalText" placeholder="Enter text here..."></textarea>
    <button onclick="encryptRSA()">RSA Encrypt</button>
</div>

<div id="encrypt-div" class="text-areas">
    <label>Encrypted Text (numeric output):</label>
    <textarea id="outputText" placeholder="Results will appear here!" readonly></textarea>
    <button onclick="decryptRSA()">RSA Decrypt</button>
</div>

<div id="decrypted-div" class="text-areas">
    <label>Decrypted Text:</label>
    <textarea id="decryptedText" onclick="decryptRSA()" placeholder="Decrypted text will appear here!" readonly></textarea>
</div>

<div class="explanations">
    <h3>Step-by-step explanations</h3>
    <ul>
        <li><strong>Step 1:</strong> Input two prime numbers p and q, which generate n = p * q.</li>
        <li><strong>Step 2:</strong> Calculate φ(n) = (p-1)*(q-1), select e coprime with φ(n), and compute d = e⁻¹ mod φ(n).</li>
        <li><strong>Step 3:</strong> Convert each letter to a number and encrypt using c = m^e mod n.</li>
        <li><strong>Step 4:</strong> Decrypt numeric ciphertext using m = c^d mod n, then convert numbers back to letters.</li>
        <li><strong>Step 5:</strong> Analyze letter frequency distributions before and after encryption to understand RSA effects.</li>
    </ul>
</div>

<div class="graph-container" id="graphContainer" style="display: none">
    <div class="chart-wrapper">
        <h4>Original Text</h4>
        <canvas id="originalChart"></canvas>
    </div>
    <div class="chart-wrapper">
        <h4>Encrypted Text</h4>
        <canvas id="encryptedChart"></canvas>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="homework3.js"></script>

</body>
</html>